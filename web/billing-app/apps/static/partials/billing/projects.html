<div class="col-md-12" ng-controller="ProjectsController" ng-show="isLogged()">

<div class="row-fluid">
<div class="panel panel-default">
<h2 class="text-center">
                 <span class="fa-stack fa-lg">
              <i class="fa fa-square-o fa-stack-2x text-success"></i>
              <i class="fa fa-file fa-stack-1x text-success"></i>
            </span>
    Project Info
</h2>
<hr class="clear">
<div class="col-md-8">
    <div class="panel-body bg-danger" ng-show="message">
        {{ message }} <i class="fa fa-times pull-right" ng-click="clear()">Close</i>

    </div>
</div>
<div class="pull-right add-padding" role="group">
    <div class="btn btn-warning" ng-click="addOne()">
        <i class="fa fa-plus"></i> Add Project
    </div>
</div>
<hr class="clear">
<div class="panel-body">


<div class="panel-body bg-warning clear mB-10" ng-show="add">
    <form name="projectForm" ng-submit="add_save()" novalidate>
        <!-- Project ID -->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.project_id.$invalid && !projectForm.project_id.$pristine }">
            <label class="col-md-2 text-right add-padding">Project ID</label>

            <div class="col-md-2 mB-10">
                <input ng-hide="add_project" value="" name="project_id" class="form-control" ng-model="projectInfo.project_id"
                       required placeholder="Enter a Project ID" disabled>
               <input ng-show="add_project" value="" name="project_id" class="form-control" ng-model="projectInfo.project_id"
                       required placeholder="Enter a Project ID">

                <p ng-show="projectForm.project_id.$invalid && !projectForm.project_id.$pristine"
                   class="help-block">
                    Project ID
                    is
                    required.</p>
            </div>
        </div>
        <!-- Project Name-->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.project_name.$invalid && !projectForm.project_name.$pristine }">
            <label class="col-md-2 text-right add-padding">Project Name</label>

            <div class="col-md-2 mB-10">
                <input value="" name="project_name" class="form-control"
                       ng-model="projectInfo.project_name" placeholder="Enter a Project Name"
                       required>

                <p ng-show="projectForm.project_name.$invalid && !projectForm.project_name.$pristine"
                   class="help-block">
                    Project Name
                    is
                    required.</p>
            </div>


        </div>
        <!-- Cost Center Name-->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.cost_center.$invalid && !projectForm.cost_center.$pristine }">
            <label class="col-md-2 text-right  add-padding">Cost Center</label>

            <div class="col-md-2 mB-10">
                <input value="" name="cost_center" class="form-control"
                       ng-model="projectInfo.cost_center" placeholder="Enter a Cost Center Name"
                       required>

                <p ng-show="projectForm.cost_center.$invalid && !projectForm.cost_center.$pristine"
                   class="help-block">
                    Cost Center Name
                    is
                    required.</p>
            </div>

        </div>
        <!-- Owner Name-->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.owner.$invalid && !projectForm.owner.$pristine }">
            <label class="col-md-2 text-right clear add-padding">Owner</label>

            <div class="col-md-2 mB-10">
                <input value="" name="owner" class="form-control" ng-model="projectInfo.owner"
                       placeholder="Enter an Owner Name"
                       >

                <!--p ng-show="projectForm.owner.$invalid && !projectForm.owner.$pristine"
                   class="help-block">
                    Owner Name
                    is
                    required.</p-->
            </div>

        </div>
        <!-- Owner Email-->
        <div class="form-group"
             ng-class="{ 'has-error' : ( projectForm.owner_email.$error.email && projectInfo.owner_email != '') }">
            <label class="col-md-2 text-right add-padding">Owner Email</label>

            <div class="col-md-2 mB-10">
                <input value="" name="owner_email" class="form-control" ng-model="projectInfo.owner_email"
                       placeholder="Enter a owner Email" type="email"
                       >

                <!--p ng-show="projectForm.owner_email.$invalid && !projectForm.owner_email.$pristine"
                   class="help-block">
                    Owner Email
                    is
                    required.</p-->

                <p ng-show="(projectForm.owner_email.$error.email && projectInfo.owner_email != '')"
                   class="help-block">
                   Enter a valid email.</p>
            </div>

        </div>
        <!-- Contact Name-->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.contact_name.$invalid && !projectForm.contact_name.$pristine }">
            <label class="col-md-2 text-right  add-padding">Contact Name</label>

            <div class="col-md-2 mB-10">
                <input value="" name="contact_name" class="form-control" ng-model="projectInfo.contact_name"
                       placeholder="Enter a Contact Name"
                       >

                <!--p ng-show="projectForm.contact_name.$invalid && !projectForm.contact_name.$pristine"
                   class="help-block">
                    Contact Name
                    is
                    required.</p-->
            </div>

        </div>
        <!-- Contact email-->
        <div class="form-group"
             ng-class="{ 'has-error' : (projectForm.contact_email.$error.email && projectInfo.contact_email != '') }">
            <label class="col-md-2 text-right clear add-padding">Contact Email</label>

            <div class="col-md-2 mB-10">
                <input value="" name="contact_email" class="form-control" ng-model="projectInfo.contact_email"
                       placeholder="Enter a Contact Email" type="email"
                       >

                <!--p ng-show="projectForm.contact_email.$invalid && !projectForm.contact_email.$pristine"
                   class="help-block">
                    Contact Email
                    is
                    required.</p-->
                <p ng-show="(projectForm.contact_email.$error.email && projectInfo.contact_email != '')"
                   class="help-block">
                   Enter a valid email.</p>
            </div>

        </div>
        <!-- Alert Amount aka Monthly Budget -->
        <div class="form-group"
             ng-class="{ 'has-error' : projectForm.alert_amount.$invalid && !projectForm.alert_amount.$pristine }">
            <label class="col-md-2 text-right  add-padding">Alert Amount</label>

            <div class="col-md-2 mB-10">
              <input value="" name="alert_amount" class="form-control" ng-model="projectInfo.alert_amount"  type="text"
                pattern="^[+-]?[0-9]{1,3}(?:[0-9]*(?:[.,][0-9]{2})?|(?:,[0-9]{3})*(?:\.[0-9]{2})?|(?:\.[0-9]{3})*(?:,[0-9]{2})?)$"
                placeholder="Enter an Alert Amount"
              >

              <p ng-show="projectForm.alert_amount.$invalid && !projectForm.alert_amount.$pristine"
                 class="help-block">
                  Alert Amount
                  must be in
                  a valid currency format.</p>
            </div>

        </div>

        <hr class="clear">
        <div class="text-center">
            <div class="col-md-3"></div>
            <div class="col-md-3">

                <button type="submit" class="btn btn-primary btn-block"
                        ng-disabled="(projectForm.$invalid && projectInfo.contact_email !='--') ||  (projectForm.$invalid && projectInfo.owner_email !='--')  || loading">Save
                </button>
            </div>
            <div class="col-md-3">
                <div class="btn btn-danger btn-block" ng-click="close_add()">Cancel</div>
            </div>
        </div>


    </form>
</div>

<div class="table-responsive">
    <table class="table-responsive table table-bordered">
        <thead>
        <th class="text-center bg-warning">Project ID</th>
        <th class="text-center bg-warning">Project Name</th>
        <th class="text-center bg-warning">Cost Center</th>
        <th class="text-center bg-warning">Owner</th>
        <th class="text-center bg-warning">Owner Email</th>
        <th class="text-center bg-warning">Contact Name</th>
        <th class="text-center bg-warning">Contact Email</th>
        <th class="text-center bg-warning">Edit</th>
        <!--th class="text-center bg-warning">Alert Amount</th-->
        </thead>
        <tbody>
        <tr id="{{ project.project_name }}" ng-repeat="project in projectList" class="cost_center">
            <td class="text-center">


                <a ng-show="project.project_id !='Not Available'"
                   ng-href="https://console.developers.google.com/project/{{getProjectId(project.project_id)}}"
                   target="_blank">
                    {{ getProjectId(project.project_id)}}</a>
                                <span ng-show="project.project_id =='Not Available'">
                                    {{ project.project_id }}</span>
            </td>
            <td class="text-center">{{ project.project_name }}</td>
            <td class="text-center">{{ project.cost_center }}</td>
            <td class="text-center">{{ project.owner }}</td>
            <td class="text-center">{{ project.owner_email }}</td>
            <td class="text-center">{{ project.contact_name }}</td>
            <td class="text-center">{{ project.contact_email }}</td>
            <td class="text-center"> <i class="fa fa-pencil text-info" ng-click="addOne(project)"
                   style="cursor: pointer"></i></td>
            <!--td class="text-center">{{ project.alert_amount }}</td-->

        </tr>

        </tbody>
    </table>
</div>


</div>
<!-- panel-body main -->

</div>
<!-- panel -->
</div>
<!-- end of row-->
</div>
<div ng-hide="isLogged()" class="col-md-12" ng-include="'/static/partials/authorization.html'"></div>
